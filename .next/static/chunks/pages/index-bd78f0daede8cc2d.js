(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(4692)}])},4692:function(e,s,t){"use strict";t.r(s),t.d(s,{__N_SSP:function(){return T},default:function(){return U}});var r=t(5893),a=t(7294),l=t(7327);let i=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:s,className:(0,l.cn)("rounded-xl border bg-card text-card-foreground shadow",t),...a})});i.displayName="Card";let n=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:s,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",t),...a})});n.displayName="CardHeader";let c=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("h3",{ref:s,className:(0,l.cn)("font-semibold leading-none tracking-tight",t),...a})});c.displayName="CardTitle",a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("p",{ref:s,className:(0,l.cn)("text-sm text-muted-foreground",t),...a})}).displayName="CardDescription";let d=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:s,className:(0,l.cn)("p-6 pt-0",t),...a})});d.displayName="CardContent";let o=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:s,className:(0,l.cn)("flex items-center p-6 pt-0",t),...a})});o.displayName="CardFooter";var m=t(7046),x=t(2469),u=t(7667);let h=u.zt,f=u.fC,j=u.xz,b=a.forwardRef((e,s)=>{let{className:t,sideOffset:a=4,...i}=e;return(0,r.jsx)(u.VY,{ref:s,sideOffset:a,className:(0,l.cn)("z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...i})});b.displayName=u.VY.displayName;let p=(0,t(5139).j)("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function N(e){let{className:s,variant:t,...a}=e;return(0,r.jsx)("div",{className:(0,l.cn)(p({variant:t}),s),...a})}var w=t(7249),g=t(5152),v=t.n(g);let y=(0,t(7525).eI)("https://mweawcsgjjpesnagfbqp.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im13ZWF3Y3NnampwZXNuYWdmYnFwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MDg2MzI2MDUsImV4cCI6MjAyNDIwODYwNX0.QKNK27P9bQnODxGx4eDiwjf8kTGOjV30z2ECRaQNc4s");var S=t(4712),D=t(2045),C=t(4873);let k=e=>{let s=new Date,t=(0,D.D)(e.registrationStartDate),r=(0,D.D)(e.registrationEndDate);return(0,C._)(s,{start:t,end:r})},M=e=>{let[s,t]=(0,a.useState)(!1),r=(0,a.useCallback)(()=>{t(k(e))},[e]);return(0,a.useEffect)(()=>{r();let e=setInterval(r,5e3);return()=>clearInterval(e)},[r]),s};var I=t(4306);let O=async e=>{let s=await fetch("/api/balance?publicKey=".concat(e));if(!s.ok)throw Error("Failed to fetch balance");return(await s.json()).balance},A=(e,s)=>{let[t,r]=(0,a.useState)(null),[l,i]=(0,a.useState)(!1),n=(0,a.useCallback)(async()=>{try{if(!e){i(!1),r(null);return}let t=await O(e);i(t>=s.minimumWalletBalance),r(t)}catch(e){console.error("Error fetching balance:",e),i(!1),r(null)}},[e,s.minimumWalletBalance]);return(0,a.useEffect)(()=>{n()},[n]),{balance:t,isBalanceHighEnough:l}};var E={projectName:"$COPS Airdrop",description:"Regsiter for $COPS Airdrop & NFT",bannerUrl:"/solanaGradient.jpg",profilePictureUrl:"/bankk.png",websiteUrl:"https://Solanacops.xyz",twitterUrl:"https://twitter.com/solanagalaxycop",discordUrl:"https://discord.gg/hP8RbPGwpg",registrationLimit:2e4,registrationStartDate:"2024-03-23T12:00:00Z",registrationEndDate:"2024-04-05T12:00:00Z",minimumWalletBalance:.001,mintPrice:0,totalSupply:5555,numberOfWinners:5555,verifyDiscordRole:{id:"1210984429909057547",name:"Verified"},verifyDiscordMembership:{id:"1203251142172217354",name:"SolanaGalazy Server"},requireTwitter:!0,requireDiscord:!0};v()(()=>t.e(409).then(t.bind(t,2409)).then(e=>e.WalletMultiButton),{loadableGenerated:{webpack:()=>[null]},ssr:!1});var T=!0;function U(e){let{discordUsername:s}=e,t=(0,I.O)(),{select:l,wallets:u,publicKey:p,disconnect:g}=(0,I.O)(),v=M(E),[D,C]=(0,a.useState)(!1),[k,O]=(0,a.useState)("Follow"),T=(0,a.useMemo)(()=>(null==p?void 0:p.toBase58())||"",[p]),[U,_]=(0,a.useState)(s),{balance:F,isBalanceHighEnough:R}=A((null==p?void 0:p.toBase58())||null,E),[z,P]=(0,a.useState)({days:0,hours:0,minutes:0,seconds:0}),[W,q]=(0,a.useState)(!1),L=async()=>{try{let{data:e,error:s}=await y.from("whitelist").select();if(s)return console.error(s),S.A.error("Error fetching data."),!1;if(e.length>=E.registrationLimit)return q(!0),!0;return!1}catch(e){return console.error(e),S.A.error("An error occurred while checking the registration limit."),!1}};(0,a.useEffect)(()=>{L()},[]),(0,a.useEffect)(()=>{let e=setTimeout(()=>{P(J())},1e3);return()=>clearTimeout(e)});let B=async()=>{window.location.href="/api/auth/discord"},Y=async()=>{C(!0),window.open(E.twitterUrl,"_blank");let e=["Checking Twitter follow status...","Confirming follow action...","Validating Twitter interaction...","This should only take a few seconds..."],s=async()=>new Promise(e=>{setTimeout(()=>{e()},2e4)}),t=0,r=setInterval(()=>{S.A.loading(e[t]),t=(t+1)%e.length},3e3);try{await s(),clearInterval(r),S.A.dismiss(),O("Followed"),S.A.success("Followed successfully!")}catch(e){console.error("Follow failed:",e),clearInterval(r),S.A.dismiss(),S.A.error("An error occurred. Please try again.")}finally{C(!1)}},V=async()=>{if(!p){S.A.error("Please connect your wallet.");return}if(W){S.A.error("Maximum registration limit reached.");return}if(E.requireDiscord&&!s){S.A.error("Please connect your Discord account.");return}if(!R){S.A.error("Project submission failed. Minimum wallet balance is not met.");return}let e={useraddress:T||null,discordusername:U||null,balance:F||null,timestamp:new Date().toISOString()};try{if(E.requireTwitter&&"Followed"!==k)S.A.error("You must follow us on Twitter to submit.");else{let{data:s,error:t}=await y.from("whitelist").insert([e]);t?t.message.includes("duplicate key value violates unique constraint")?S.A.error("Entry Found! You have already submitted a entry."):(console.error(t),S.A.error("Error submitting data: "+(t.message||"Unknown error"))):S.A.success("Submitted successfully!")}}catch(e){console.error(e),S.A.error("An error occurred while submitting the data.")}},J=()=>{let e=+new Date(E.registrationEndDate)-+new Date,s={};return e>0&&(s={days:Math.floor(e/864e5),hours:Math.floor(e/36e5%24),minutes:Math.floor(e/1e3/60%60),seconds:Math.floor(e/1e3%60)}),s};function X(e){let{value:s,label:t}=e;return(0,r.jsxs)("div",{className:"countdown-unit",children:[(0,r.jsx)("span",{className:"countdown-value text-2xl font-bold text-primary",children:null!=s?s:0}),(0,r.jsx)("span",{className:"countdown-label text-lg font-semibold text-muted",children:t})]})}return(0,r.jsx)("div",{className:"container mx-auto px-4 max-sm:px-4 pt-24 md:pt-26",children:E&&(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"relative",children:(0,r.jsx)("img",{src:E.bannerUrl,alt:"Banner",className:"w-full h-64 rounded-3xl"})}),(0,r.jsx)("div",{className:"flex justify-end items-center mb-4 mt-4",children:(0,r.jsx)("div",{className:"w-48 h-48 -mt-48 z-10 mr-10 md:mr-20 rounded-full bg-card p-2",children:(0,r.jsx)("img",{src:E.profilePictureUrl,alt:"Profile Picture",className:"rounded-full"})})}),(0,r.jsxs)("div",{className:"flex mb-2 gap-8",children:[(0,r.jsx)("h1",{className:"text-4xl font-bold",children:E.projectName}),(0,r.jsxs)("div",{className:"flex flex-row items-end gap-4",children:[E.websiteUrl?(0,r.jsx)("a",{href:E.websiteUrl,target:"_blank",rel:"noopener noreferrer",className:"font-semibold underline",children:(0,r.jsx)(x.n9J,{className:"w-8 h-8 hover:scale-105 transition-all"})}):null,E.twitterUrl?(0,r.jsx)("a",{href:E.twitterUrl,target:"_blank",rel:"noopener noreferrer",className:"font-semibold underline",children:(0,r.jsx)(x.S3E,{className:"w-8 h-8 hover:scale-105 transition-all"})}):null,E.discordUrl?(0,r.jsx)("a",{href:E.discordUrl,target:"_blank",rel:"noopener noreferrer",className:"font-semibold underline",children:(0,r.jsx)(x.dsO,{className:"w-8 h-8 hover:scale-105 transition-all"})}):null]})]}),(0,r.jsx)("div",{className:"mb-4 max-w-6xl",children:E.description}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[(0,r.jsxs)("div",{className:"border rounded-lg shadow",children:[(0,r.jsxs)("div",{className:"p-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("h2",{className:"text-2xl font-semibold",children:"Mint Details"}),(0,r.jsx)("p",{className:"text-lg ".concat(W?"text-red-500":v?"text-green-500":"text-red-500"),children:W?"Max Limit Reached":v?"Active":(0,r.jsxs)(r.Fragment,{children:["Inactive",v?(0,r.jsx)("span",{className:"w-4 h-4 ml-2 rounded-full inline-block bg-green-500 animate-pulse"}):null]})})]}),(0,r.jsxs)("div",{className:"mt-4",children:[(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{children:"Registration Start Date:"}),(0,r.jsx)(N,{variant:"outline",className:"text-sm mb-2",children:new Date(E.registrationStartDate).toLocaleString()})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{children:"Registration End Date:"}),(0,r.jsx)(N,{variant:"outline",className:"text-sm mb-2",children:new Date(E.registrationEndDate).toLocaleString()})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{children:"Mint Price (SOL):"}),(0,r.jsxs)(N,{variant:"outline",className:"text-sm mb-2",children:[E.mintPrice," SOL"]})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{children:"Total Supply:"}),(0,r.jsxs)(N,{variant:"outline",className:"text-sm mb-2",children:[E.totalSupply," NFTs"]})]})]})]}),(0,r.jsxs)("div",{className:"p-4 border-t",children:[(0,r.jsx)("h2",{className:"text-2xl font-semibold",children:"Verification"}),(0,r.jsxs)("div",{className:"mt-4",children:[(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{children:"Minimum Wallet Balance (SOL):"}),(0,r.jsxs)(N,{variant:"outline",className:"text-sm mb-2",children:[E.minimumWalletBalance," SOL"]})]}),E.requireDiscord&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{children:"Verify Discord Role:"}),(0,r.jsx)(N,{variant:"outline",className:"text-sm mb-2",children:E.verifyDiscordRole.name})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{children:"Verify Discord Membership:"}),(0,r.jsx)(N,{variant:"outline",className:"text-sm mb-2",children:E.verifyDiscordMembership.name})]})]}),E.requireTwitter&&(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{children:"Follow Twitter:"}),(0,r.jsx)(N,{variant:"outline",className:"text-sm mb-2",children:(0,r.jsx)("a",{href:E.twitterUrl,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300",children:E.twitterUrl.split("/").pop()})})]})]})]}),(0,r.jsxs)("div",{className:"p-4 border-t",children:[(0,r.jsx)("h2",{className:"text-2xl font-semibold",children:"Results"}),(0,r.jsxs)("div",{className:"mt-4",children:[(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{children:"Number of Winners:"}),(0,r.jsxs)(N,{variant:"outline",className:"text-sm mb-2",children:[E.numberOfWinners," Winners"]})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{children:"Number of Max Entries:"}),(0,r.jsxs)(N,{variant:"outline",className:"text-sm mb-2",children:[E.registrationLimit||"Unlimited"," Entries"]})]})]})]})]}),(0,r.jsx)("div",{children:(0,r.jsxs)(i,{children:[(0,r.jsx)(n,{children:(0,r.jsx)(c,{className:"text-xl font-semibold",children:"Sign Up for Whitelist"})}),(0,r.jsxs)(d,{children:[(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsxs)("div",{className:"bg-muted p-6 rounded-md flex justify-between items-center",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"w-4 h-4 rounded-full ".concat(p?"bg-green-500":"bg-red-500"),"aria-hidden":"true"}),(0,r.jsx)("span",{className:"ml-2 text-xs flex-shrink-0",children:"Connect your wallet."})]}),p?(0,r.jsx)(w.z,{disabled:!0,className:"text-xs",children:p?"".concat(T.slice(0,6),"...").concat(p.toBase58().slice(-6)):"N/A"}):(0,r.jsxs)(m.z9,{children:[!t.connected&&(0,r.jsx)(m.FC,{asChild:!0,children:(0,r.jsx)(w.z,{className:"text-xs",children:"Connect Wallet"})}),(0,r.jsxs)(m.vO,{className:"h-[50svh] max-sm:max-h-[60svh]",children:[(0,r.jsx)(m.oq,{className:"text-center justify-center items-center",children:(0,r.jsxs)("h2",{className:"text-2xl font-bold mb-4 text-center",children:["Connect a Wallet on ",(0,r.jsx)("br",{})," Solana to Continue"]})}),(0,r.jsx)(m.B5,{className:"overflow-y-auto",children:u.map(e=>(0,r.jsx)(m.SX,{className:"flex items-center justify-between p-3 hover:bg-gray-800 rounded cursor-pointer w-full",children:(0,r.jsxs)("div",{className:"flex justify-between items-center w-full",onClick:()=>{l(e.adapter.name)},children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("img",{className:"w-6 h-6 mr-2",src:e.adapter.icon,alt:e.adapter.name}),(0,r.jsx)("span",{className:"text-white",children:e.adapter.name})]}),"Installed"===e.readyState&&(0,r.jsx)("div",{className:"flex justify-end",children:(0,r.jsx)("span",{className:"text-sm text-gray-400",children:"Detected"})})]})},e.adapter.name))}),(0,r.jsx)(m.OX,{className:"text-center",children:(0,r.jsx)("img",{src:"https://solana.com/_next/static/media/solanaLogo.74d35f7a.svg",alt:"Solana Logo",className:"w-full h-3"})})]})]})]}),(0,r.jsx)("p",{className:"mt-2 text-xs text-gray-500",children:"* Your address will autofill when you connect your wallet."})]}),(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsxs)("div",{className:"bg-muted p-6 rounded-md flex justify-between items-center",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"w-4 h-4 rounded-full ".concat(R?"bg-green-500":"bg-red-500"),"aria-hidden":"true"}),(0,r.jsxs)("span",{className:"ml-2 text-xs",children:["You must hold at least"," ",E.minimumWalletBalance," SOL to enter this whitelist."]})]}),(0,r.jsx)(w.z,{variant:"ghost",className:"font-bold text-xs cursor-default ".concat(p?R?"hover:text-green-500 text-green-500":"hover:text-red-500 text-red-500":"hover:text-gray-500 text-gray-500"),children:p?R?"".concat(Math.floor(1e3*Number(F))/1e3," SOL"):"Insufficient":"No Wallet"})]}),(0,r.jsxs)("p",{className:"mt-2 text-xs text-gray-500",children:["* Your entry may be disqualified if your wallet balance falls below ",E.minimumWalletBalance," SOL before registration closes."]})]}),E.requireDiscord&&(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsxs)("div",{className:"bg-muted p-6 rounded-md flex justify-between items-center",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"w-4 h-4 rounded-full ".concat(U?"bg-green-500":"bg-red-500"),"aria-hidden":"true"}),(0,r.jsxs)("span",{className:"ml-2 text-xs",children:["Join the"," ",(0,r.jsx)("a",{href:E.discordUrl,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300",children:E.verifyDiscordMembership.name})," ",'and have the "',E.verifyDiscordRole.name,'" role.']})]}),U?(0,r.jsx)(w.z,{variant:"ghost",className:"font-bold text-xs cursor-default hover:text-green-500 text-green-500",children:U}):(0,r.jsx)(w.z,{onClick:B,className:"text-xs",children:"Connect"})]}),(0,r.jsx)("p",{className:"mt-2 text-xs text-gray-500",children:"* Maintain server membership and role status before registration closes."})]}),E.requireTwitter&&(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsxs)("div",{className:"bg-muted p-6 rounded-md flex justify-between items-center",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"w-4 h-4 rounded-full ".concat("Followed"===k?"bg-green-500":"bg-red-500"),"aria-hidden":"true"}),(0,r.jsxs)("span",{className:"ml-2 text-xs",children:["Follow"," ",(0,r.jsx)("a",{href:E.twitterUrl,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300",children:E.twitterUrl.split("/").pop()})," ","and stay updated."]})]}),(0,r.jsx)(w.z,{onClick:Y,disabled:D||"Followed"===k,children:D?"Checking...":k})]}),(0,r.jsx)("p",{className:"mt-2 text-xs text-gray-500",children:"* Stay connected for updates from this account."})]})]}),(0,r.jsxs)(o,{className:"flex flex-col justify-center items-center",children:[z.days&&v&&(0,r.jsx)(h,{children:(0,r.jsxs)(f,{children:[(0,r.jsx)(j,{children:(0,r.jsxs)(w.z,{disabled:!v||!R||!T||W||E.requireDiscord&&!s||E.requireTwitter&&"Follow"===k,onClick:V,children:["Sign up for ",E.projectName," Whitelist"]})}),(0,r.jsx)(b,{children:v?(0,r.jsxs)("ul",{className:"list-disc list-inside",children:[!R&&(0,r.jsxs)("li",{children:["Minimum balance of"," ",E.minimumWalletBalance," SOL required."]}),E.requireDiscord&&!s&&(0,r.jsx)("li",{children:"Discord verification required."}),E.requireTwitter&&"Followed"!==k&&(0,r.jsx)("li",{children:"Twitter follow required."}),W&&(0,r.jsx)("li",{children:"Maximum registration limit reached."})]}):(0,r.jsx)("p",{children:"Registration is closed."})})]})}),(0,r.jsx)("div",{className:"text-center",children:!W&&z.days?(0,r.jsxs)("div",{className:"countdown text-sm text-center",children:[(0,r.jsx)("p",{className:"text-lg font-bold text-muted",children:"Registration closes in"}),(0,r.jsxs)("div",{className:"countdown-timer flex flex-wrap justify-center space-x-2 sm:space-x-6 sm:space-y-0 mt-2",children:[(0,r.jsx)(X,{value:z.days,label:"D"}),(0,r.jsx)(X,{value:z.hours,label:"H"}),(0,r.jsx)(X,{value:z.minutes,label:"M"}),(0,r.jsx)(X,{value:z.seconds,label:"S"})]})]}):(0,r.jsx)("div",{className:"text-center text-sm py-2",children:(0,r.jsx)("p",{className:"text-xl font-bold",children:W?"Maximum registration limit reached.":"Registration period has ended."})})})]})]})})]})]})})}}},function(e){e.O(0,[607,888,774,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);